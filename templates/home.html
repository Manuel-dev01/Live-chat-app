{% extends 'base.html' %}
{% block content %}
    <div>{% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for message, category in messages %}
                    {% if category == 'error' %}
                    <div class="alert alert-danger alert-dismissable fade show" role="alert">
                        {{message}}
                        <button type="button" class="close" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    {% else %}
                    <div class="alert alert-success alert-dismissable fade show" role="alert">
                        {{message}}
                        <button type="button" class="close" data-dismiss="alert">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    {% endif %}
                {% endfor %}
            {% endif %}
        {% endwith %}</div>
    <form action="" method="post" class="form">
        <h3>Enter the Chat Room!</h3>
        <div>
            <label for="name">Name:</label>
            <input type="text" name="name" id="name" placeholder="Pick an name!" value="{{name}}">
        </div>
        <div class="join">
            <input type="text" placeholder="Room Code" name="code" value="{{code}}">
            <button type="submit" name="join"> Join a Room!</button>
        </div>
        <button type="submit" name="create" class="create-btn">Create a Room!</button>
        {% if error %}
            <ul>
                <li>{{error}}</li>
            </ul>
        {% endif %}
    </form>
{% endblock %}